{% extends "challenge.html" %}

{% block connection_info %}
<div class="card text-center">
	<div class="card-body">
		<h5 class="card-title">Instance Info</h5>

		<!-- Button to start a new container instance -->
		<button class="btn btn-success" id="container-request-btn" onclick="container_request({{ challenge.id }})">
			Start an Instance
		</button>

		<!-- Image placeholder that triggers the function if loading fails -->
		<img src="" alt="" onerror="container_running({{ challenge.id }})">

		<div id="container-request-result" style="display: none;">
			<p><code id="container-connection-info"></code></p>

			<!-- Button to destroy the container instance -->
			<button type="button" class="btn btn-danger card-link" id="container-stop-btn"
				onclick="container_stop({{ challenge.id }})">
				Destroy this instance
			</button>

			<!-- Button to renew the container instance -->
			<button type="button" class="btn btn-success card-link" id="container-renew-btn"
				onclick="container_renew({{ challenge.id }})">
				Add Time
			</button>
		</div>

		<!-- Error message display -->
		<div id="container-request-error" class="alert alert-danger alert-dismissable text-center" role="alert"
			style="display: none; margin-top: 15px;">
			<strong id="result-message">Error</strong>
		</div>
	</div>

	<!-- Footer with expiration time -->
	<div class="card-footer text-muted" id="container-expires-time" style="display: none;">
		Expires in <span id="container-expires"></span> minutes
	</div>
</div>
{% endblock %}
